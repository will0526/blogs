# Effective objective-c 2.0(读书笔记)

## 1


OC使用的是消息结构，而非函数调用。

* 消息结构：由运行环境决定运行时所应执行的代码。
* 函数调用：由编译器决定。

OC 是 C 的超集


## 2


@class 向前声明，避免循环引用。



## 3多用字面量语法


1，尽量使用字面量语法来创建字符串，数值，数组，字典

2，通过取下标操作来访问数组，或者字典中元素


* 字面数值
    
    NSNumber *a = @1
    
* 字面量数组

    NSArray *a = @[@"1",@"2"]
    
* 字面量字典

    NSDictionary *a = @{@"key":@"value",@"key1":@"value1"}
    

## 4多用类型常量，少用#define预处理指令


static const NSString * kTimeDuration = @"0.3";

代替

`#define kTimeDuration  @"0.3"` 


## 5 用枚举标识状态


如果把传递给某个方法的选项以表示为枚举类型，而多个选项又可以同时使用。那么将各选项值定义为2的幂，以便通过按位或操作将其组合起来。


处理枚举类型时，switch语句中不要实现default分支。


## 6 属性

* 原子性
* 读写权限
* 内存管理语义
    
```markdown
    assign 基本数据类型
    strong 拥有关系，先保留新值，并释放旧值，再将新值设置上去。
    weak 非拥有的关系，引用计数不增加
    unsafe_unretained 和assign相同，但可以修饰对象，非拥有关系，和weak不同
    copy 
```
    
    
* 方法名

    set get 方法
    
## 7对象内部直接访问实例变量

写入实例变量时，通过设置方法，self.param 

读取时，使用直接访问  _param

## 8对象等同性

复写 isEqual 方法

## 9类族模式实现


## 10既有类中使用关联对象存放自定义数据

## 15 前缀避免命名空间冲突

前缀避免命名空间冲突

## 16 提供全能初始化方法

提供全能初始化方法，领其他初始化方法都来调用它

## 17 实现description方法，返回有意义的描述

## 18尽量使用不可变对象

* 尽量创建不可变得对象
* 不要把可变属性公开，而应该提供相关方法

## 19 使用清晰而协调的命名方式
* 符合OC规范
* 动宾结构，言简意赅

## 20 为私有方法加前缀
* 加前缀，和公共方法区分开
* 不要单用下划线做私有方法前缀，因为是预留给苹果公司用的
## 21 理解OC 错误模型

* 只有发生了不可使整个应用程序奔溃的严重错误是，才使用异常Exception
* 不那么严重时，使用NSError

## 22 NSCopying

* 若想让对象具有copy功能，需实现NSCopying 协议
* 复制对象分深拷贝和浅拷贝，一般尽量使用浅拷贝
* 若需实现深拷贝，可以考虑新增一个专门的方法。

## 23






